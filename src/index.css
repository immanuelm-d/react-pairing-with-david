@import "tailwindcss";
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    /* Design Tokens (Light) */
    --color-bg: #fffaf4; /* Warm light background */
    --color-bg-alt: #fff3e8; /* Subtle warm tint */
    --color-surface: #ffffff; /* Primary surface */
    --color-surface-alt: #ffe8d1; /* Accent surface */
    --color-border: #e2d6cf; /* Subtle border with sufficient contrast */
    --color-text: #1a1c1e; /* Core text (meets 7:1 on white) */
    --color-text-subtle: #5a6068; /* Muted text (still passes 4.5:1 on light bg-alt) */
    --color-primary: #2563eb; /* Blue 600 accessible on white */
    --color-primary-contrast: #ffffff; /* Text/icon on primary */
    --color-secondary: #f59e0b; /* Warm secondary (use with dark text) */
    --color-secondary-contrast: #1a1c1e;
    --color-accent: #9333ea; /* Accent purple */
    --color-accent-contrast: #ffffff;
    --color-focus: #1d4ed8; /* Focus outline (3:1+ against light backgrounds) */
    --color-success: #15803d;
    --color-warning: #b45309;
    --color-danger: #b91c1c;
    --color-link: #1d4ed8;
    --color-link-hover: #1e40af;
    --radius-base: 0.75rem;
    background: linear-gradient(135deg, var(--color-bg) 0%, var(--color-bg-alt) 100%);
    color: var(--color-text);
    min-height: 100vh;
    transition: background 0.5s, color 0.5s;
  }
  html.dark {
    /* Design Tokens (Dark) */
    --color-bg: #0f172a; /* Slate/blue deep */
    --color-bg-alt: #1e293b;
    --color-surface: #1e293b;
    --color-surface-alt: #24324a;
    --color-border: #334155;
    --color-text: #f1f5f9;
    --color-text-subtle: #cbd5e1;
    --color-primary: #60a5fa; /* Light blue for dark bg */
    --color-primary-contrast: #0f172a;
    --color-secondary: #fbbf24;
    --color-secondary-contrast: #0f172a;
    --color-accent: #c084fc;
    --color-accent-contrast: #0f172a;
    --color-focus: #93c5fd; /* 3:1+ focus outline on dark bg */
    --color-success: #34d399;
    --color-warning: #f59e0b;
    --color-danger: #f87171;
    --color-link: #93c5fd;
    --color-link-hover: #bfdbfe;
    background: linear-gradient(135deg, var(--color-bg) 0%, var(--color-bg-alt) 100%);
    color: var(--color-text);
  }
  body {
    min-height: 100vh;
    font-feature-settings: "salt" on, "ss01" on, "ss02" on;
  }
  h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
  }
  a {
    color: var(--color-link);
    text-underline-offset: 3px;
  }
  a:hover, a:focus-visible {
    color: var(--color-link-hover);
  }
  :focus-visible {
    outline: 3px solid var(--color-focus);
    outline-offset: 3px;
  }
}

/* Custom scrollbars (visual, not relied upon for contrast) */
::-webkit-scrollbar { width: 10px; background: transparent; }
::-webkit-scrollbar-thumb { background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent) 100%); border-radius: 6px; }
html.dark ::-webkit-scrollbar-thumb { background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-primary) 100%); }

@layer utilities {
  .animate-fade-in { animation: fadeIn 0.7s cubic-bezier(0.4,0,0.2,1) both; }
  .surface { background: var(--color-surface); }
  .surface-alt { background: var(--color-surface-alt); }
  .border-token { border-color: var(--color-border); }
  .text-subtle { color: var(--color-text-subtle); }
  .btn-base { font-weight: 600; border-radius: var(--radius-base); padding: 0.5rem 1rem; display: inline-flex; gap: .5rem; align-items: center; justify-content: center; }
  .btn-primary { background: var(--color-primary); color: var(--color-primary-contrast); }
  .btn-primary:hover { filter: brightness(1.08); }
  .badge-secondary { background: var(--color-secondary); color: var(--color-secondary-contrast); padding: .25rem .5rem; border-radius: 9999px; font-size: .75rem; font-weight: 500; letter-spacing: .5px; }
  .focus-outline-none:focus-visible { outline: none; }
  @media (prefers-reduced-motion: reduce) {
    .animate-fade-in { animation: none !important; }
    * { scroll-behavior: auto !important; }
  }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(24px); }
  to { opacity: 1; transform: none; }
}
